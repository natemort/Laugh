[gd_scene load_steps=12 format=3 uid="uid://be75d0y50mpuk"]

[ext_resource type="TileSet" uid="uid://b6cnlx6ahy21u" path="res://tileset.tres" id="1_v6pgq"]
[ext_resource type="Script" path="res://code/character/ArenaCamera.cs" id="2_glcn0"]
[ext_resource type="Texture2D" uid="uid://bid8x8nvkav3a" path="res://texture/devil/snakeLava_dead.png" id="3_5sg0j"]
[ext_resource type="Script" path="res://code/Joke.cs" id="3_pxwyj"]
[ext_resource type="Texture2D" uid="uid://b03ocu04l5t5x" path="res://texture/devil/snakeLava.png" id="4_rtyrv"]
[ext_resource type="Texture2D" uid="uid://bf8uwc10njf4d" path="res://texture/devil/snakeLava_ani.png" id="5_8wqj4"]
[ext_resource type="Script" path="res://code/Devil.cs" id="6_6mnpy"]
[ext_resource type="Script" path="res://code/AnimatedText.cs" id="7_iccou"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cn43r"]
size = Vector2(63, 85)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ov2gu"]
size = Vector2(64, 84)

[sub_resource type="SpriteFrames" id="SpriteFrames_xooyl"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_5sg0j")
}],
"loop": true,
"name": &"dead",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_rtyrv")
}, {
"duration": 1.0,
"texture": ExtResource("5_8wqj4")
}],
"loop": true,
"name": &"idle",
"speed": 1.0
}]

[node name="FinishRoom" type="Node2D"]

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource("1_v6pgq")
format = 2
layer_0/tile_data = PackedInt32Array(3, 131073, 6, 2, 393217, 7, 4, 131073, 6, 5, 131073, 6, 6, 131073, 6, 7, 131073, 6, 8, 131073, 6, 9, 131073, 6, 10, 131073, 6, 11, 131073, 6, 12, 131073, 6, 13, 131073, 6, 14, 131073, 6, 15, 131073, 6, 16, 131073, 6, 65538, 1, 6, 65540, 1, 6, 65541, 1, 7, 65543, 1, 6, 65544, 1, 7, 65546, 1, 6, 65547, 1, 7, 65549, 1, 6, 65550, 1, 7, 65552, 1, 6, 65539, 1, 8, 65542, 1, 8, 65545, 1, 8, 65548, 1, 8, 65551, 1, 8, 65537, 1, 6, 1, 1, 6, 65536, 1, 6, 0, 1, 6, 131071, 1, 6, 65535, 1, 6, -65535, 1, 7, -131071, 1, 6, -196607, 1, 6, -262143, 1, 7, -327679, 1, 6, -393215, 1, 6, -458751, 1, 7, -524287, 1, 6, -589823, 1, 6, -655359, 1, 7, -720895, 1, 6, -720894, 1, 6, -720893, 1, 8, -720892, 1, 6, -720891, 1, 6, -720890, 1, 8, -720889, 1, 6, -720888, 1, 6, -720887, 1, 8, -720886, 1, 6, -720885, 1, 6, -720884, 1, 8, -786420, 1, 6, -786419, 1, 6, -786418, 1, 6, -786417, 1, 6, -786416, 1, 6, -786415, 1, 6, -786414, 1, 6, -720883, 1, 6, -720882, 1, 6, -720881, 1, 8, -720880, 1, 6, -720879, 1, 6, -720878, 1, 8, -720877, 1, 6, -720876, 1, 6, 65553, 1, 7, 65554, 1, 8, 17, 196609, 8, 18, 1, 6, 65555, 1, 6, 20, 1, 6, 65556, 1, 7, 19, 1, 6, -65519, 196609, 7, -65518, 131073, 6, -65517, 131073, 6, -65516, 327681, 7, 65557, 1, 8, 21, 1, 6, -65515, 1, 7, -131051, 1, 6, -196587, 1, 6, -262123, 1, 7, -327659, 1, 6, -393195, 1, 6, -458731, 1, 7, -524267, 1, 6, -589803, 1, 6, -655339, 1, 7, -720875, 1, 6, -786413, 1, 6, -786412, 1, 6, -786411, 1, 6, -786421, 1, 6, -786422, 1, 6, -786423, 1, 6, -786424, 1, 6, -786425, 1, 6, -786426, 1, 6, -786427, 1, 6, -786428, 1, 6, -786429, 1, 6, -786430, 1, 6, -786431, 1, 6, -786432, 1, 6, -720896, 1, 6, -655361, 1, 6, -589825, 1, 6, -524289, 1, 6, -458753, 1, 6, -393217, 1, 6, -327681, 1, 6, -393216, 1, 6, -327680, 1, 6, -262145, 1, 6, -196609, 1, 6, -131073, 1, 6, -65537, 1, 6, -1, 1, 6, -65536, 1, 6, -131072, 1, 6, -196608, 1, 6, -262144, 1, 6, -458752, 1, 6, -524288, 1, 6, -589824, 1, 6, -655360, 1, 6, -720897, 1, 6, -786433, 1, 6, -851968, 1, 6, -851967, 1, 6, -851966, 1, 6, -851965, 1, 6, -851964, 1, 6, -851963, 1, 6, -851962, 1, 6, -851961, 1, 6, -851960, 1, 6, -851959, 1, 6, -851958, 1, 6, -851957, 1, 6, -851956, 1, 6, -851955, 1, 6, -851954, 1, 6, -917490, 1, 6, -917489, 1, 6, -917488, 1, 6, -917487, 1, 6, -917486, 1, 6, -917485, 1, 6, -917484, 1, 6, -851948, 1, 6, -851947, 1, 6, -851946, 1, 6, -851949, 1, 6, -851950, 1, 6, -851951, 1, 6, -851952, 1, 6, -851953, 1, 6, -786410, 1, 6, -720874, 1, 6, -655338, 1, 6, -589802, 1, 6, -524266, 1, 6, -458730, 1, 6, -393194, 1, 6, -327658, 1, 6, -262122, 1, 6, -196586, 1, 6, -131050, 1, 6, -65514, 1, 6, 22, 1, 6, 65558, 1, 6, -917483, 1, 6, -917482, 1, 6, -917491, 1, 6, -917492, 1, 6, -917493, 1, 6, -917494, 1, 6, -917495, 1, 6, -917496, 1, 6, -917497, 1, 6, -917498, 1, 6, -917499, 1, 6, -917500, 1, 6, -917501, 1, 6, -917502, 1, 6, -917503, 1, 6, -917504, 1, 6, -851969, 1, 6, -917481, 1, 6, -851945, 1, 6, -786409, 1, 6, -720873, 1, 6, -655337, 1, 6, -589801, 1, 6, -524265, 1, 6, -458729, 1, 6, -393193, 1, 6, -327657, 1, 6, -262121, 1, 6, -131049, 1, 6, -65513, 1, 6, 23, 1, 6, -196585, 1, 6, 65559, 1, 6, 131095, 1, 6, 131094, 1, 6, 131093, 1, 6, 131092, 1, 6, 131091, 1, 6, 131090, 1, 6, 196625, 1, 6, 196624, 1, 6, 196623, 1, 6, 196622, 1, 6, 196621, 1, 6, 196620, 1, 6, 196619, 1, 6, 196618, 1, 6, 196617, 1, 6, 131081, 1, 6, 131082, 1, 6, 131083, 1, 6, 131084, 1, 6, 131085, 1, 6, 131086, 1, 6, 131087, 1, 6, 131088, 1, 6, 131089, 1, 6, 131080, 1, 6, 131079, 1, 6, 131078, 1, 6, 131077, 1, 6, 131076, 1, 6, 131075, 1, 6, 131074, 1, 6, 131073, 1, 6, 131072, 1, 6, 196607, 1, 6, 262143, 1, 6, 196608, 1, 6, 196609, 1, 6, 196610, 1, 6, 196611, 1, 6, 196612, 1, 6, 196613, 1, 6, 196614, 1, 6, 196615, 1, 6, 196616, 1, 6, 196626, 1, 6, 196627, 1, 6, 196628, 1, 6, 196629, 1, 6, 196630, 1, 6, 196631, 1, 6, 262141, 1, 6, 196605, 1, 6, 196606, 1, 6, 262142, 1, 6, 131069, 1, 6, 65533, 1, 6, -3, 1, 6, -65539, 1, 6, -65538, 1, 6, -131074, 1, 6, -196610, 1, 6, -196611, 1, 6, -262147, 1, 6, -327683, 1, 6, -262146, 1, 6, -2, 1, 6, 65534, 1, 6, 131070, 1, 6, -131075, 1, 6, -393219, 1, 6, -458755, 1, 6, -524291, 1, 6, -589827, 1, 6, -655363, 1, 6, -655362, 1, 6, -589826, 1, 6, -327682, 1, 6, -720899, 1, 6, -786435, 1, 6, -851971, 1, 6, -851970, 1, 6, -786434, 1, 6, -720898, 1, 6, -524290, 1, 6, -458754, 1, 6, -393218, 1, 6, -917480, 1, 6, -851944, 1, 6, -786408, 1, 6, -720872, 1, 6, -655336, 1, 6, -589800, 1, 6, -524264, 1, 6, -458728, 1, 6, -393192, 1, 6, -327656, 1, 6, -262120, 1, 6, -196584, 1, 6, -131048, 1, 6, -65512, 1, 6, 24, 1, 6, 65560, 1, 6, 131096, 1, 6, 196632, 1, 6, -65534, 720897, 5, -65520, 720897, 5, -196602, 524289, 6, -196596, 524289, 6, -65530, 589825, 5, -65524, 589825, 5, -65525, 589825, 4, -65532, 720897, 4, 327677, 1, 6, 327678, 1, 6, 327679, 1, 6, 262144, 1, 6, 262145, 1, 6, 262146, 1, 6, 262147, 1, 6, 262148, 1, 6, 262149, 1, 6, 262150, 1, 6, 262151, 1, 6, 262152, 1, 6, 262153, 1, 6, 262154, 1, 6, 262155, 1, 6, 262156, 1, 6, 262157, 1, 6, 262158, 1, 6, 262159, 1, 6, 262160, 1, 6, 262161, 1, 6, 262162, 1, 6, 262163, 1, 6, 262164, 1, 6, 262165, 1, 6, 262166, 1, 6, 262167, 1, 6, 262168, 1, 6, 262169, 1, 6, 196633, 1, 6, 131097, 1, 6, 65561, 1, 6, 25, 1, 6, 26, 1, 6, -65510, 1, 6, -131046, 1, 6, -131047, 1, 6, -196583, 1, 6, -262119, 1, 6, -327655, 1, 6, -393191, 1, 6, -458727, 1, 6, -524263, 1, 6, -589799, 1, 6, -655335, 1, 6, -720871, 1, 6, -720870, 1, 6, -786406, 1, 6, -851942, 1, 6, -917478, 1, 6, -983014, 1, 6, -983015, 1, 6, -917479, 1, 6, -851943, 1, 6, -786407, 1, 6, -458726, 1, 6, -393190, 1, 6, -327654, 1, 6, -262118, 1, 6, -196582, 1, 6, 65562, 1, 6, -65511, 1, 6, 131098, 1, 6, 196634, 1, 6, 262170, 1, 6, 327706, 1, 6, -524262, 1, 6, -589798, 1, 6, -655334, 1, 6, -983016, 1, 6, -983017, 1, 6, -983018, 1, 6, -983019, 1, 6, -983020, 1, 6, -983021, 1, 6, -983022, 1, 6, -983023, 1, 6, -983024, 1, 6, -983025, 1, 6, -983026, 1, 6, -983027, 1, 6, -983028, 1, 6, -983029, 1, 6, -983030, 1, 6, -983031, 1, 6, -983032, 1, 6, -983033, 1, 6, -983034, 1, 6, -983035, 1, 6, -983036, 1, 6, -983037, 1, 6, -983038, 1, 6, -983039, 1, 6, -983040, 1, 6, -917505, 1, 6, -917506, 1, 6, -917507, 1, 6, -917508, 1, 6, -917509, 1, 6, -851973, 1, 6, -851972, 1, 6, -786436, 1, 6, -786437, 1, 6, -720901, 1, 6, -655365, 1, 6, -720900, 1, 6, -655364, 1, 6, -589828, 1, 6, -524292, 1, 6, -458756, 1, 6, -393220, 1, 6, -327684, 1, 6, -262148, 1, 6, -196612, 1, 6, -131076, 1, 6, -65540, 1, 6, -65541, 1, 6, -5, 1, 6, 65531, 1, 6, -4, 1, 6, 65532, 1, 6, 131068, 1, 6, 196604, 1, 6, 262140, 1, 6, 327676, 1, 6, 393212, 1, 6, 458748, 1, 6, 196603, 1, 6, 131067, 1, 6, 262139, 1, 6, 327675, 1, 6, 393211, 1, 6, -131077, 1, 6, -196613, 1, 6, -262149, 1, 6, -327685, 1, 6, -393221, 1, 6, -458757, 1, 6, -524293, 1, 6, -589829, 1, 6, 458747, 1, 6, 458749, 1, 6, 458750, 1, 6, 393214, 1, 6, 393213, 1, 6, 393215, 1, 6, 327680, 1, 6, 327681, 1, 6, 327682, 1, 6, 327683, 1, 6, 327684, 1, 6, 327685, 1, 6, 327686, 1, 6, 327687, 1, 6, 327688, 1, 6, 327689, 1, 6, 327690, 1, 6, 327691, 1, 6, 327692, 1, 6, 327693, 1, 6, 327694, 1, 6, 327695, 1, 6, 327696, 1, 6, 327697, 1, 6, 327698, 1, 6, 327699, 1, 6, 327700, 1, 6, 327701, 1, 6, 327702, 1, 6, 327703, 1, 6, 327704, 1, 6, 327705, 1, 6, 393241, 1, 6, 393242, 1, 6, 393240, 1, 6, 393239, 1, 6, 393238, 1, 6, 393237, 1, 6, 393236, 1, 6, 393235, 1, 6, 393234, 1, 6, 393233, 1, 6, 393232, 1, 6, 393231, 1, 6, 393230, 1, 6, 393229, 1, 6, 393228, 1, 6, 393227, 1, 6, 393226, 1, 6, 393225, 1, 6, 393224, 1, 6, 393223, 1, 6, 393222, 1, 6, 393221, 1, 6, 393220, 1, 6, 458751, 1, 6, 393216, 1, 6, 393217, 1, 6, 393218, 1, 6, 393219, 1, 6)

[node name="Camera2D" type="Camera2D" parent="." node_paths=PackedStringArray("Targets")]
script = ExtResource("2_glcn0")
Targets = [NodePath("../Devil"), NodePath("../Joke1"), NodePath("../Joke2")]

[node name="Joke1" type="Area2D" parent="."]
position = Vector2(416, -267)
collision_mask = 2
script = ExtResource("3_pxwyj")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Joke1"]
position = Vector2(-0.5, 32.5)
shape = SubResource("RectangleShape2D_cn43r")

[node name="JokeText" type="RichTextLabel" parent="Joke1"]
offset_left = -81.0
offset_top = -115.0
offset_right = 80.0
offset_bottom = -12.0
scroll_active = false
script = ExtResource("7_iccou")
CharactersPerMs = 0.05

[node name="Joke2" type="Area2D" parent="."]
position = Vector2(800, -267)
collision_mask = 2
script = ExtResource("3_pxwyj")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Joke2"]
position = Vector2(-1, 32)
shape = SubResource("RectangleShape2D_ov2gu")

[node name="JokeText" type="RichTextLabel" parent="Joke2"]
offset_left = -82.0
offset_top = -114.0
offset_right = 79.0
offset_bottom = -11.0
scroll_active = false
script = ExtResource("7_iccou")
CharactersPerMs = 0.05

[node name="Devil" type="AnimatedSprite2D" parent="."]
position = Vector2(1231, -137)
sprite_frames = SubResource("SpriteFrames_xooyl")
animation = &"idle"
autoplay = "idle"
frame = 1
frame_progress = 0.594457
script = ExtResource("6_6mnpy")

[node name="DevilText" type="RichTextLabel" parent="Devil"]
offset_left = -109.0
offset_top = -226.0
offset_right = 110.0
offset_bottom = -75.0
script = ExtResource("7_iccou")
CharactersPerMs = 0.01

[node name="PlayerSpawn" type="Node2D" parent="." groups=["PlayerSpawn"]]
position = Vector2(604, -34)

[connection signal="JokeSelected" from="Joke1" to="Devil" method="OnJokeSelected"]
[connection signal="body_entered" from="Joke1" to="Joke1" method="OnBodyEntered"]
[connection signal="TextFinished" from="Joke1/JokeText" to="Joke1" method="OnTextFinished"]
[connection signal="JokeSelected" from="Joke2" to="Devil" method="OnJokeSelected"]
[connection signal="body_entered" from="Joke2" to="Joke2" method="OnBodyEntered"]
[connection signal="TextFinished" from="Joke2/JokeText" to="Joke2" method="OnTextFinished"]
[connection signal="DevilStateChange" from="Devil" to="Joke1" method="OnDevilStateChange"]
[connection signal="DevilStateChange" from="Devil" to="Joke2" method="OnDevilStateChange"]
[connection signal="TextFinished" from="Devil/DevilText" to="Devil" method="OnTextFinished"]
